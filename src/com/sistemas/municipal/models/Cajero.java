package com.sistemas.municipal.models;import javax.persistence.*;import org.openxava.annotations.*;import org.openxava.jpa.*;@Entity@Tab(baseCondition = "deleted=false", properties = "codigo,cajero,nombre,estadocajero")public class Cajero extends Deletable {	@Column(length = 6)	@ReadOnly	private int codigo;	@Column(length = 12)	@Required	private String cajero;	@Column(length = 45)	@Required	private String nombre;	@Column(length = 10)	@Stereotype("PASSWORD")	private String password;	@Required	@Column(length = 1)	private EstadoCajero estadocajero;	public enum EstadoCajero {		Activo, Inactivo	}	@PrePersist	public void generarCodigo() throws Exception {		Query query = XPersistence.getManager()				.createQuery("SELECT max(i.codigo) from " + getClass().getSimpleName() + "  i");		Integer ultimoCodigo = (Integer) query.getSingleResult();		this.codigo = ultimoCodigo == null ? 1 : ultimoCodigo + 1;	}	public int getCodigo() {		return codigo;	}	public void setCodigo(int codigo) {		this.codigo = codigo;	}	public String getCajero() {		return cajero;	}	public void setCajero(String cajero) {		this.cajero = cajero;	}	public String getNombre() {		return nombre;	}	public void setNombre(String nombre) {		this.nombre = nombre;	}	public String getPassword() {		return password;	}	public void setPassword(String password) {		this.password = password;	}}